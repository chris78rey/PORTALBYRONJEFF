CREATE TABLE REGIMEN_LABORAL
(
  RGL_IDREGIMEN       INTEGER,
  RGL_REGIMENLABORAL  VARCHAR2(250 BYTE),
  RGL_OBSERVACION     VARCHAR2(250 BYTE),
  RGL_USER            VARCHAR2(50 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_BITACORA
(
  ID          INTEGER,
  FECHA       DATE,
  HORA        DATE,
  AREA        VARCHAR2(100 BYTE),
  EVENTO      CLOB,
  SOLUCION    CLOB,
  ID_USUARIO  INTEGER
)
LOB (EVENTO) STORE AS (
  TABLESPACE  TS_HE1
  ENABLE      STORAGE IN ROW
  CHUNK       8192
  RETENTION
  NOCACHE
  LOGGING
      STORAGE    (
                  INITIAL          64K
                  NEXT             1M
                  MINEXTENTS       1
                  MAXEXTENTS       UNLIMITED
                  PCTINCREASE      0
                  BUFFER_POOL      DEFAULT
                  FLASH_CACHE      DEFAULT
                  CELL_FLASH_CACHE DEFAULT
                 ))
LOB (SOLUCION) STORE AS (
  TABLESPACE  TS_HE1
  ENABLE      STORAGE IN ROW
  CHUNK       8192
  RETENTION
  NOCACHE
  LOGGING
      STORAGE    (
                  INITIAL          64K
                  NEXT             1M
                  MINEXTENTS       1
                  MAXEXTENTS       UNLIMITED
                  PCTINCREASE      0
                  BUFFER_POOL      DEFAULT
                  FLASH_CACHE      DEFAULT
                  CELL_FLASH_CACHE DEFAULT
                 ))
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_LOGS_SISTEMA
(
  LSI_ID            INTEGER,
  LSI_MENSAJE       VARCHAR2(4000 BYTE),
  LSI_FECHA_EVENTO  DATE,
  MODULO            VARCHAR2(30 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_MENU
(
  MEN_ID            INTEGER,
  MOD_ID            INTEGER,
  MEN_ID_RECURSIVO  INTEGER,
  MEN_NIVEL         INTEGER,
  MEN_ORDEN         INTEGER,
  MEN_DISPLAY       VARCHAR2(100 BYTE),
  MEN_URL           VARCHAR2(100 BYTE),
  MEN_HIDE          VARCHAR2(400 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_MENU_HABILITA
(
  MHA_ID              INTEGER,
  PER_ID              INTEGER,
  MEN_ID              INTEGER,
  MHA_HABILITA        INTEGER                   DEFAULT 1,
  MHA_GUARDAR         INTEGER                   DEFAULT 1,
  MHA_NUEVO_REGISTRO  INTEGER                   DEFAULT 1,
  MHA_ELIMINAR        INTEGER                   DEFAULT 1,
  MHA_EDITAR          INTEGER                   DEFAULT 1
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_MINISTERIO_FINANZAS
(
  ID          INTEGER,
  TRL_ID      INTEGER                           DEFAULT 6,
  MFI_ANIO    VARCHAR2(20 BYTE),
  MFI_MES     VARCHAR2(20 BYTE),
  MFI_CODIGO  VARCHAR2(100 BYTE),
  MFI_DESC    VARCHAR2(50 BYTE),
  ACTIVO      INTEGER                           DEFAULT 1,
  ORDEN       INTEGER                           DEFAULT 1
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_MODULOS
(
  MOD_ID              INTEGER,
  ORG_ID              INTEGER,
  MOD_NOMBRE_MODULO   VARCHAR2(50 BYTE),
  MOD_FECHA_CREACION  DATE                      DEFAULT SYSDATE,
  MOD_URL             VARCHAR2(4000 BYTE),
  MOD_URL_SIGUIENTE   VARCHAR2(4000 BYTE),
  MOD_LOGO_NAME       VARCHAR2(4000 BYTE),
  MOD_TITULO          VARCHAR2(4000 BYTE),
  URL_CAMBIA          INTEGER                   DEFAULT 1,
  MOD_ORDEN           INTEGER                   DEFAULT 0
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_ORGANIZACION
(
  ORG_ID      INTEGER,
  ORG_NOMBRE  VARCHAR2(100 BYTE),
  ORG_RUC     VARCHAR2(100 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_PERFIL
(
  PER_ID                  INTEGER,
  MOD_ID                  INTEGER,
  PER_DESCRIPCION         VARCHAR2(100 BYTE),
  PER_FECHA_CREACION      DATE                  DEFAULT SYSDATE,
  PER_DEFAULT             INTEGER               DEFAULT 1,
  PER_ORDEN_PRESENTACION  INTEGER
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_SOFTWARE_BITACORA
(
  MODULO  VARCHAR2(100 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_URLS
(
  ID           INTEGER,
  URL_DESCRIP  VARCHAR2(100 BYTE),
  URL          VARCHAR2(4000 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_USUARIO
(
  ID                   INTEGER,
  USU_TIPO             CHAR(1 BYTE)             DEFAULT 'H',
  NUMERO_HC            NUMBER,
  UEX_ID               INTEGER,
  PER_CODIGO           VARCHAR2(20 BYTE),
  USU_CLAVE            VARCHAR2(1000 BYTE),
  NOM_ID               INTEGER,
  CEDULA_LOGIN         VARCHAR2(40 BYTE),
  BFILE_FOTO           BFILE,
  EMAIL                VARCHAR2(200 BYTE),
  TELEFONO             VARCHAR2(100 BYTE),
  CELULAR              VARCHAR2(11 BYTE),
  DIRECCION_DOMICILIO  VARCHAR2(4000 BYTE),
  CNT_PRV_CODIGO       VARCHAR2(5 BYTE),
  CNT_CODIGO           VARCHAR2(5 BYTE),
  CODIGO               VARCHAR2(5 BYTE),
  INACTIVA             CHAR(1 BYTE)             DEFAULT 'N',
  OCULTAR              INTEGER                  DEFAULT 0
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_USUARIO_PERFIL
(
  UMO_ID              INTEGER,
  PER_ID              INTEGER,
  CODIGO_PERSONAL     VARCHAR2(4 BYTE),
  UMO_FECHA_CREACION  DATE                      DEFAULT SYSDATE,
  UMO_ACTIVO          INTEGER                   DEFAULT 0,
  USU_ID              INTEGER
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE SEG_USUARIOS_EXTERNOS
(
  ID                      INTEGER,
  USE_USUARIO             VARCHAR2(30 BYTE),
  USE_DEPENDENCIA_UNIDAD  VARCHAR2(100 BYTE),
  USE_FECHA_CREACION      DATE                  DEFAULT sysdate
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE TIPO_RELACION_LABORAL
(
  TRL_IDTIPORELACION  INTEGER,
  TRL_TIPORELACION    VARCHAR2(100 BYTE),
  TRL_USER            VARCHAR2(50 BYTE),
  RGL_IDREGIMEN       INTEGER,
  TRL_ESTADO          CHAR(1 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


ALTER TABLE REGIMEN_LABORAL ADD (
  PRIMARY KEY
  (RGL_IDREGIMEN)
  ENABLE VALIDATE);


ALTER TABLE SEG_BITACORA ADD (
  CONSTRAINT SEG_BITACORA_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_LOGS_SISTEMA ADD (
  CONSTRAINT SEG_LOGS_SISTEMA_PK
  PRIMARY KEY
  (LSI_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MENU ADD (
  CONSTRAINT SEG_MENU_PK
  PRIMARY KEY
  (MEN_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MENU_HABILITA ADD (
  CONSTRAINT SEG_MENU_HABILITA_PK
  PRIMARY KEY
  (MHA_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MINISTERIO_FINANZAS ADD (
  CONSTRAINT SEG_MINISTERIO_FINANZAS_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MODULOS ADD (
  CONSTRAINT SEG_MODULOS_PK
  PRIMARY KEY
  (MOD_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_ORGANIZACION ADD (
  CONSTRAINT SEG_ORGANIZACIÃ“N_PK
  PRIMARY KEY
  (ORG_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_PERFIL ADD (
  CONSTRAINT SEG_PERFIL_ROL_PK
  PRIMARY KEY
  (PER_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_SOFTWARE_BITACORA ADD (
  CONSTRAINT SEG_SOFTWARE_PK
  PRIMARY KEY
  (MODULO)
  ENABLE VALIDATE);


ALTER TABLE SEG_URLS ADD (
  CONSTRAINT SEG_URLS_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_USUARIO ADD (
  CONSTRAINT SEP_USUARIO_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_USUARIO_PERFIL ADD (
  CONSTRAINT SEG_USUARIO_MENU_PK
  PRIMARY KEY
  (UMO_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_USUARIOS_EXTERNOS ADD (
  CONSTRAINT SEG_USUARIOS_EXTERNOS_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE);


ALTER TABLE TIPO_RELACION_LABORAL ADD (
  PRIMARY KEY
  (TRL_IDTIPORELACION)
  ENABLE VALIDATE);


ALTER TABLE SEG_BITACORA ADD (
  FOREIGN KEY (ID_USUARIO) 
  REFERENCES SEG_USUARIO (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MENU ADD (
  FOREIGN KEY (MEN_ID_RECURSIVO) 
  REFERENCES SEG_MENU (MEN_ID)
  ENABLE VALIDATE);

ALTER TABLE SEG_MENU ADD (
  FOREIGN KEY (MOD_ID) 
  REFERENCES SEG_MODULOS (MOD_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MENU_HABILITA ADD (
  FOREIGN KEY (MEN_ID) 
  REFERENCES SEG_MENU (MEN_ID)
  ENABLE VALIDATE);

ALTER TABLE SEG_MENU_HABILITA ADD (
  FOREIGN KEY (PER_ID) 
  REFERENCES SEG_PERFIL (PER_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_MINISTERIO_FINANZAS ADD (
  FOREIGN KEY (TRL_ID) 
  REFERENCES TIPO_RELACION_LABORAL (TRL_IDTIPORELACION)
  ENABLE VALIDATE);


ALTER TABLE SEG_MODULOS ADD (
  FOREIGN KEY (ORG_ID) 
  REFERENCES SEG_ORGANIZACION (ORG_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_PERFIL ADD (
  FOREIGN KEY (MOD_ID) 
  REFERENCES SEG_MODULOS (MOD_ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_USUARIO ADD (
  FOREIGN KEY (CNT_PRV_CODIGO, CNT_CODIGO, CODIGO) 
  REFERENCES SIS.PARROQUIAS (CNT_PRV_CODIGO,CNT_CODIGO,CODIGO)
  ENABLE NOVALIDATE);

ALTER TABLE SEG_USUARIO ADD (
  FOREIGN KEY (NOM_ID) 
  REFERENCES NOMINA.PERSONAL (PRN_IDPERSONAL)
  ENABLE NOVALIDATE);

ALTER TABLE SEG_USUARIO ADD (
  FOREIGN KEY (PER_CODIGO) 
  REFERENCES SIS.PERSONAL (CODIGO)
  ENABLE NOVALIDATE);

ALTER TABLE SEG_USUARIO ADD (
  FOREIGN KEY (NUMERO_HC) 
  REFERENCES SIS.PACIENTES (NUMERO_HC)
  ENABLE NOVALIDATE);

ALTER TABLE SEG_USUARIO ADD (
  FOREIGN KEY (UEX_ID) 
  REFERENCES SEG_USUARIOS_EXTERNOS (ID)
  ENABLE VALIDATE);


ALTER TABLE SEG_USUARIO_PERFIL ADD (
  FOREIGN KEY (CODIGO_PERSONAL) 
  REFERENCES SIS.PERSONAL (CODIGO)
  ENABLE NOVALIDATE);

ALTER TABLE SEG_USUARIO_PERFIL ADD (
  FOREIGN KEY (PER_ID) 
  REFERENCES SEG_PERFIL (PER_ID)
  ENABLE VALIDATE);

ALTER TABLE SEG_USUARIO_PERFIL ADD (
  FOREIGN KEY (USU_ID) 
  REFERENCES SEG_USUARIO (ID)
  ENABLE VALIDATE);


ALTER TABLE TIPO_RELACION_LABORAL ADD (
  FOREIGN KEY (RGL_IDREGIMEN) 
  REFERENCES REGIMEN_LABORAL (RGL_IDREGIMEN)
  ENABLE VALIDATE);
